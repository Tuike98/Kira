{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import LeftSidebar from'../components/LeftSidebar';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){const{id}=useParams();const[server,setServer]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[message,setMessage]=useState('');const[embedMessage,setEmbedMessage]=useState('');const[menuType,setMenuType]=useState('normal');const[menuItems,setMenuItems]=useState([]);const[menuItemLabel,setMenuItemLabel]=useState('');const[menuItemMessage,setMenuItemMessage]=useState('');useEffect(()=>{fetchServerDetails();},[id]);const fetchServerDetails=async()=>{try{const response=await fetch(\"/api/server/\".concat(id));if(!response.ok)throw new Error('Failed to fetch server details');const data=await response.json();setServer(data);}catch(error){console.error('Error fetching server details:',error);setError('Error fetching server details: '+error.message);}finally{setLoading(false);}};const handleAddMenuItem=()=>{setMenuItems([...menuItems,{label:menuItemLabel,message:menuItemMessage}]);setMenuItemLabel('');setMenuItemMessage('');};const handleSendMessage=async()=>{// Implement sending message logic\n};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsx(\"p\",{children:error})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(LeftSidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:server?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:server.name}),/*#__PURE__*/_jsx(\"img\",{src:server.icon,alt:\"\".concat(server.name,\" icon\"),width:\"100\",height:\"100\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Members: \",server.memberCount]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Owner ID: \",server.ownerID]}),server.license?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"License Key: \",server.license.key]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Expires At: \",new Date(server.license.expiresAt).toLocaleString()]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No active license\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Create Message\"}),/*#__PURE__*/_jsx(\"textarea\",{value:message,onChange:e=>setMessage(e.target.value),placeholder:\"Enter your message\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Create Embed Message\"}),/*#__PURE__*/_jsx(\"textarea\",{value:embedMessage,onChange:e=>setEmbedMessage(e.target.value),placeholder:\"Enter your embed message\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Create Menu\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Menu Type:\",/*#__PURE__*/_jsxs(\"select\",{value:menuType,onChange:e=>setMenuType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"normal\",children:\"Normal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dropdown\",children:\"Dropdown\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:menuItemLabel,onChange:e=>setMenuItemLabel(e.target.value),placeholder:\"Menu Item Label\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:menuItemMessage,onChange:e=>setMenuItemMessage(e.target.value),placeholder:\"Menu Item Message\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddMenuItem,children:\"Add Menu Item\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:menuItems.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[item.label,\" - \",item.message]},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,children:\"Send Message\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Server not found\"})})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useParams","LeftSidebar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","id","server","setServer","loading","setLoading","error","setError","message","setMessage","embedMessage","setEmbedMessage","menuType","setMenuType","menuItems","setMenuItems","menuItemLabel","setMenuItemLabel","menuItemMessage","setMenuItemMessage","fetchServerDetails","response","fetch","concat","ok","Error","data","json","console","handleAddMenuItem","label","handleSendMessage","className","children","name","src","icon","alt","width","height","memberCount","ownerID","license","key","Date","expiresAt","toLocaleString","value","onChange","e","target","placeholder","type","onClick","map","item","index"],"sources":["/home/kira/panel/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport LeftSidebar from '../components/LeftSidebar';\n\nfunction Dashboard() {\n  const { id } = useParams();\n  const [server, setServer] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState('');\n  const [embedMessage, setEmbedMessage] = useState('');\n  const [menuType, setMenuType] = useState('normal');\n  const [menuItems, setMenuItems] = useState([]);\n  const [menuItemLabel, setMenuItemLabel] = useState('');\n  const [menuItemMessage, setMenuItemMessage] = useState('');\n\n  useEffect(() => {\n    fetchServerDetails();\n  }, [id]);\n\n  const fetchServerDetails = async () => {\n    try {\n      const response = await fetch(`/api/server/${id}`);\n      if (!response.ok) throw new Error('Failed to fetch server details');\n      const data = await response.json();\n      setServer(data);\n    } catch (error) {\n      console.error('Error fetching server details:', error);\n      setError('Error fetching server details: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddMenuItem = () => {\n    setMenuItems([...menuItems, { label: menuItemLabel, message: menuItemMessage }]);\n    setMenuItemLabel('');\n    setMenuItemMessage('');\n  };\n\n  const handleSendMessage = async () => {\n    // Implement sending message logic\n  };\n\n  if (loading) {\n    return <div className=\"page\"><p>Loading...</p></div>;\n  }\n\n  if (error) {\n    return <div className=\"page\"><p>{error}</p></div>;\n  }\n\n  return (\n    <div className=\"container\">\n      <LeftSidebar />\n      <div className=\"page\">\n        {server ? (\n          <>\n            <h1>{server.name}</h1>\n            <img src={server.icon} alt={`${server.name} icon`} width=\"100\" height=\"100\" />\n            <p>Members: {server.memberCount}</p>\n            <p>Owner ID: {server.ownerID}</p>\n            {server.license ? (\n              <>\n                <p>License Key: {server.license.key}</p>\n                <p>Expires At: {new Date(server.license.expiresAt).toLocaleString()}</p>\n              </>\n            ) : (\n              <p>No active license</p>\n            )}\n            <h2>Create Message</h2>\n            <textarea\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"Enter your message\"\n            />\n            <h2>Create Embed Message</h2>\n            <textarea\n              value={embedMessage}\n              onChange={(e) => setEmbedMessage(e.target.value)}\n              placeholder=\"Enter your embed message\"\n            />\n            <h2>Create Menu</h2>\n            <label>\n              Menu Type:\n              <select value={menuType} onChange={(e) => setMenuType(e.target.value)}>\n                <option value=\"normal\">Normal</option>\n                <option value=\"dropdown\">Dropdown</option>\n              </select>\n            </label>\n            <div>\n              <input\n                type=\"text\"\n                value={menuItemLabel}\n                onChange={(e) => setMenuItemLabel(e.target.value)}\n                placeholder=\"Menu Item Label\"\n              />\n              <input\n                type=\"text\"\n                value={menuItemMessage}\n                onChange={(e) => setMenuItemMessage(e.target.value)}\n                placeholder=\"Menu Item Message\"\n              />\n              <button onClick={handleAddMenuItem}>Add Menu Item</button>\n            </div>\n            <ul>\n              {menuItems.map((item, index) => (\n                <li key={index}>{item.label} - {item.message}</li>\n              ))}\n            </ul>\n            <button onClick={handleSendMessage}>Send Message</button>\n          </>\n        ) : (\n          <p>Server not found</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpD,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAAEC,EAAG,CAAC,CAAGT,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACkB,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACoB,YAAY,CAAEC,eAAe,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACsB,QAAQ,CAAEC,WAAW,CAAC,CAAGvB,QAAQ,CAAC,QAAQ,CAAC,CAClD,KAAM,CAACwB,SAAS,CAAEC,YAAY,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAAC0B,aAAa,CAAEC,gBAAgB,CAAC,CAAG3B,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAC4B,eAAe,CAAEC,kBAAkB,CAAC,CAAG7B,QAAQ,CAAC,EAAE,CAAC,CAE1DC,SAAS,CAAC,IAAM,CACd6B,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,CAACnB,EAAE,CAAC,CAAC,CAER,KAAM,CAAAmB,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,gBAAAC,MAAA,CAAgBtB,EAAE,CAAE,CAAC,CACjD,GAAI,CAACoB,QAAQ,CAACG,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,gCAAgC,CAAC,CACnE,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClCxB,SAAS,CAACuB,IAAI,CAAC,CACjB,CAAE,MAAOpB,KAAK,CAAE,CACdsB,OAAO,CAACtB,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtDC,QAAQ,CAAC,iCAAiC,CAAGD,KAAK,CAACE,OAAO,CAAC,CAC7D,CAAC,OAAS,CACRH,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAwB,iBAAiB,CAAGA,CAAA,GAAM,CAC9Bd,YAAY,CAAC,CAAC,GAAGD,SAAS,CAAE,CAAEgB,KAAK,CAAEd,aAAa,CAAER,OAAO,CAAEU,eAAgB,CAAC,CAAC,CAAC,CAChFD,gBAAgB,CAAC,EAAE,CAAC,CACpBE,kBAAkB,CAAC,EAAE,CAAC,CACxB,CAAC,CAED,KAAM,CAAAY,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC;AAAA,CACD,CAED,GAAI3B,OAAO,CAAE,CACX,mBAAOT,IAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAC,QAAA,cAACtC,IAAA,MAAAsC,QAAA,CAAG,YAAU,CAAG,CAAC,CAAK,CAAC,CACtD,CAEA,GAAI3B,KAAK,CAAE,CACT,mBAAOX,IAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAC,QAAA,cAACtC,IAAA,MAAAsC,QAAA,CAAI3B,KAAK,CAAI,CAAC,CAAK,CAAC,CACnD,CAEA,mBACET,KAAA,QAAKmC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtC,IAAA,CAACF,WAAW,GAAE,CAAC,cACfE,IAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClB/B,MAAM,cACLL,KAAA,CAAAE,SAAA,EAAAkC,QAAA,eACEtC,IAAA,OAAAsC,QAAA,CAAK/B,MAAM,CAACgC,IAAI,CAAK,CAAC,cACtBvC,IAAA,QAAKwC,GAAG,CAAEjC,MAAM,CAACkC,IAAK,CAACC,GAAG,IAAAd,MAAA,CAAKrB,MAAM,CAACgC,IAAI,SAAQ,CAACI,KAAK,CAAC,KAAK,CAACC,MAAM,CAAC,KAAK,CAAE,CAAC,cAC9E1C,KAAA,MAAAoC,QAAA,EAAG,WAAS,CAAC/B,MAAM,CAACsC,WAAW,EAAI,CAAC,cACpC3C,KAAA,MAAAoC,QAAA,EAAG,YAAU,CAAC/B,MAAM,CAACuC,OAAO,EAAI,CAAC,CAChCvC,MAAM,CAACwC,OAAO,cACb7C,KAAA,CAAAE,SAAA,EAAAkC,QAAA,eACEpC,KAAA,MAAAoC,QAAA,EAAG,eAAa,CAAC/B,MAAM,CAACwC,OAAO,CAACC,GAAG,EAAI,CAAC,cACxC9C,KAAA,MAAAoC,QAAA,EAAG,cAAY,CAAC,GAAI,CAAAW,IAAI,CAAC1C,MAAM,CAACwC,OAAO,CAACG,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,EAAI,CAAC,EACxE,CAAC,cAEHnD,IAAA,MAAAsC,QAAA,CAAG,mBAAiB,CAAG,CACxB,cACDtC,IAAA,OAAAsC,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBtC,IAAA,aACEoD,KAAK,CAAEvC,OAAQ,CACfwC,QAAQ,CAAGC,CAAC,EAAKxC,UAAU,CAACwC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5CI,WAAW,CAAC,oBAAoB,CACjC,CAAC,cACFxD,IAAA,OAAAsC,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BtC,IAAA,aACEoD,KAAK,CAAErC,YAAa,CACpBsC,QAAQ,CAAGC,CAAC,EAAKtC,eAAe,CAACsC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACjDI,WAAW,CAAC,0BAA0B,CACvC,CAAC,cACFxD,IAAA,OAAAsC,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBpC,KAAA,UAAAoC,QAAA,EAAO,YAEL,cAAApC,KAAA,WAAQkD,KAAK,CAAEnC,QAAS,CAACoC,QAAQ,CAAGC,CAAC,EAAKpC,WAAW,CAACoC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAd,QAAA,eACpEtC,IAAA,WAAQoD,KAAK,CAAC,QAAQ,CAAAd,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCtC,IAAA,WAAQoD,KAAK,CAAC,UAAU,CAAAd,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACpC,CAAC,EACJ,CAAC,cACRpC,KAAA,QAAAoC,QAAA,eACEtC,IAAA,UACEyD,IAAI,CAAC,MAAM,CACXL,KAAK,CAAE/B,aAAc,CACrBgC,QAAQ,CAAGC,CAAC,EAAKhC,gBAAgB,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAClDI,WAAW,CAAC,iBAAiB,CAC9B,CAAC,cACFxD,IAAA,UACEyD,IAAI,CAAC,MAAM,CACXL,KAAK,CAAE7B,eAAgB,CACvB8B,QAAQ,CAAGC,CAAC,EAAK9B,kBAAkB,CAAC8B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACpDI,WAAW,CAAC,mBAAmB,CAChC,CAAC,cACFxD,IAAA,WAAQ0D,OAAO,CAAExB,iBAAkB,CAAAI,QAAA,CAAC,eAAa,CAAQ,CAAC,EACvD,CAAC,cACNtC,IAAA,OAAAsC,QAAA,CACGnB,SAAS,CAACwC,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACzB3D,KAAA,OAAAoC,QAAA,EAAiBsB,IAAI,CAACzB,KAAK,CAAC,KAAG,CAACyB,IAAI,CAAC/C,OAAO,GAAnCgD,KAAwC,CAClD,CAAC,CACA,CAAC,cACL7D,IAAA,WAAQ0D,OAAO,CAAEtB,iBAAkB,CAAAE,QAAA,CAAC,cAAY,CAAQ,CAAC,EACzD,CAAC,cAEHtC,IAAA,MAAAsC,QAAA,CAAG,kBAAgB,CAAG,CACvB,CACE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAjC,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}