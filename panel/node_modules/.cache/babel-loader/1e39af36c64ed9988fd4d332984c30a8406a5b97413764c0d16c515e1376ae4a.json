{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MessageForm(_ref){let{channels,selectedChannel,setSelectedChannel,setHistory,history}=_ref;const[message,setMessage]=useState('');const[embedTitle,setEmbedTitle]=useState('');const[embedColor,setEmbedColor]=useState('#000000');const[embedDescription,setEmbedDescription]=useState('');const[embedFooter,setEmbedFooter]=useState('');const[attachments,setAttachments]=useState([]);const handleSendMessage=async()=>{try{const embedMessage={title:embedTitle,color:embedColor,description:embedDescription,footer:embedFooter};console.log(\"Selected Channel: \".concat(selectedChannel));console.log(\"Message: \".concat(message));console.log(\"Embed Message: \".concat(JSON.stringify(embedMessage)));const response=await fetch(\"/api/server/\".concat(selectedChannel,\"/message\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({channelId:selectedChannel,message,embedMessage,attachments})});if(!response.ok)throw new Error('Failed to send message');alert('Message sent successfully');setHistory([...history,{message,embedMessage}]);}catch(error){console.error('Error sending message:',error);}};const handleFileUpload=e=>{setAttachments([...attachments,...e.target.files]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h2\",{onClick:()=>document.getElementById('messagesSection').classList.toggle('hidden'),children:\"Messages\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"messagesSection\",className:\"hidden\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Select Channel:\",/*#__PURE__*/_jsx(\"select\",{value:selectedChannel,onChange:e=>setSelectedChannel(e.target.value),children:channels.map(channel=>/*#__PURE__*/_jsx(\"option\",{value:channel.id,children:channel.name},channel.id))})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Create Message\"}),/*#__PURE__*/_jsx(\"textarea\",{value:message,onChange:e=>setMessage(e.target.value),placeholder:\"Enter your message\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Create Embed Message\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:embedTitle,onChange:e=>setEmbedTitle(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Color:\",/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:embedColor,onChange:e=>setEmbedColor(e.target.value)})]}),/*#__PURE__*/_jsx(\"textarea\",{value:embedDescription,onChange:e=>setEmbedDescription(e.target.value),placeholder:\"Enter your embed description\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Footer:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:embedFooter,onChange:e=>setEmbedFooter(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Attach Files:\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,onChange:handleFileUpload})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,children:\"Send Message\"})]})]});}export default MessageForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","MessageForm","_ref","channels","selectedChannel","setSelectedChannel","setHistory","history","message","setMessage","embedTitle","setEmbedTitle","embedColor","setEmbedColor","embedDescription","setEmbedDescription","embedFooter","setEmbedFooter","attachments","setAttachments","handleSendMessage","embedMessage","title","color","description","footer","console","log","concat","JSON","stringify","response","fetch","method","headers","body","channelId","ok","Error","alert","error","handleFileUpload","e","target","files","className","children","onClick","document","getElementById","classList","toggle","id","value","onChange","map","channel","name","placeholder","type","multiple"],"sources":["/home/kira/panel/src/components/MessageForm.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction MessageForm({ channels, selectedChannel, setSelectedChannel, setHistory, history }) {\n  const [message, setMessage] = useState('');\n  const [embedTitle, setEmbedTitle] = useState('');\n  const [embedColor, setEmbedColor] = useState('#000000');\n  const [embedDescription, setEmbedDescription] = useState('');\n  const [embedFooter, setEmbedFooter] = useState('');\n  const [attachments, setAttachments] = useState([]);\n\n  const handleSendMessage = async () => {\n    try {\n      const embedMessage = {\n        title: embedTitle,\n        color: embedColor,\n        description: embedDescription,\n        footer: embedFooter,\n      };\n\n      console.log(`Selected Channel: ${selectedChannel}`);\n      console.log(`Message: ${message}`);\n      console.log(`Embed Message: ${JSON.stringify(embedMessage)}`);\n\n      const response = await fetch(`/api/server/${selectedChannel}/message`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          channelId: selectedChannel,\n          message,\n          embedMessage,\n          attachments,\n        }),\n      });\n      if (!response.ok) throw new Error('Failed to send message');\n      alert('Message sent successfully');\n      setHistory([...history, { message, embedMessage }]);\n    } catch (error) {\n      console.error('Error sending message:', error);\n    }\n  };\n\n  const handleFileUpload = (e) => {\n    setAttachments([...attachments, ...e.target.files]);\n  };\n\n  return (\n    <div className=\"section\">\n      <h2 onClick={() => document.getElementById('messagesSection').classList.toggle('hidden')}>Messages</h2>\n      <div id=\"messagesSection\" className=\"hidden\">\n        <label>\n          Select Channel:\n          <select value={selectedChannel} onChange={(e) => setSelectedChannel(e.target.value)}>\n            {channels.map(channel => (\n              <option key={channel.id} value={channel.id}>{channel.name}</option>\n            ))}\n          </select>\n        </label>\n        <h2>Create Message</h2>\n        <textarea\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          placeholder=\"Enter your message\"\n        />\n        <h2>Create Embed Message</h2>\n        <label>\n          Title:\n          <input\n            type=\"text\"\n            value={embedTitle}\n            onChange={(e) => setEmbedTitle(e.target.value)}\n          />\n        </label>\n        <label>\n          Color:\n          <input\n            type=\"color\"\n            value={embedColor}\n            onChange={(e) => setEmbedColor(e.target.value)}\n          />\n        </label>\n        <textarea\n          value={embedDescription}\n          onChange={(e) => setEmbedDescription(e.target.value)}\n          placeholder=\"Enter your embed description\"\n        />\n        <label>\n          Footer:\n          <input\n            type=\"text\"\n            value={embedFooter}\n            onChange={(e) => setEmbedFooter(e.target.value)}\n          />\n        </label>\n        <div>\n          <label>\n            Attach Files:\n            <input type=\"file\" multiple onChange={handleFileUpload} />\n          </label>\n        </div>\n        <button onClick={handleSendMessage}>Send Message</button>\n      </div>\n    </div>\n  );\n}\n\nexport default MessageForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}