{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){const{id}=useParams();const[server,setServer]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchServerDetails();},[id]);const fetchServerDetails=async()=>{try{const response=await fetch(\"/api/server/\".concat(id));if(!response.ok)throw new Error('Failed to fetch server details');const data=await response.json();setServer(data);}catch(error){console.error('Error fetching server details:',error);setError('Error fetching server details: '+error.message);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsx(\"p\",{children:error})});}return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:server?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:server.name}),/*#__PURE__*/_jsx(\"img\",{src:server.icon,alt:\"\".concat(server.name,\" icon\"),width:\"100\",height:\"100\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Members: \",server.memberCount]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Owner ID: \",server.ownerID]}),server.license?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"License Key: \",server.license.key]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Expires At: \",new Date(server.license.expiresAt).toLocaleString()]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No active license\"}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/\".concat(id,\"/settings\"),children:\"Settings\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/\".concat(id,\"/settings/nickname\"),children:\"Nickname\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/\".concat(id,\"/settings/server\"),children:\"Server Management\"})})]})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/\".concat(id,\"/channels\"),children:\"Channels\"}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/\".concat(id,\"/channels/manage\"),children:\"Manage Channels\"})})})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/\".concat(id,\"/users\"),children:\"Users\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/\".concat(id,\"/users/manage\"),children:\"Manage Users\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/\".concat(id,\"/users/permissions\"),children:\"Permissions\"})})]})]})]})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Server not found\"})});}export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","id","server","setServer","loading","setLoading","error","setError","fetchServerDetails","response","fetch","concat","ok","Error","data","json","console","message","className","children","name","src","icon","alt","width","height","memberCount","ownerID","license","key","Date","expiresAt","toLocaleString","href"],"sources":["/home/kira/panel/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nfunction Dashboard() {\n  const { id } = useParams();\n  const [server, setServer] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetchServerDetails();\n  }, [id]);\n\n  const fetchServerDetails = async () => {\n    try {\n      const response = await fetch(`/api/server/${id}`);\n      if (!response.ok) throw new Error('Failed to fetch server details');\n      const data = await response.json();\n      setServer(data);\n    } catch (error) {\n      console.error('Error fetching server details:', error);\n      setError('Error fetching server details: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"page\"><p>Loading...</p></div>;\n  }\n\n  if (error) {\n    return <div className=\"page\"><p>{error}</p></div>;\n  }\n\n  return (\n    <div className=\"page\">\n      {server ? (\n        <>\n          <h1>{server.name}</h1>\n          <img src={server.icon} alt={`${server.name} icon`} width=\"100\" height=\"100\" />\n          <p>Members: {server.memberCount}</p>\n          <p>Owner ID: {server.ownerID}</p>\n          {server.license ? (\n            <>\n              <p>License Key: {server.license.key}</p>\n              <p>Expires At: {new Date(server.license.expiresAt).toLocaleString()}</p>\n            </>\n          ) : (\n            <p>No active license</p>\n          )}\n          <nav>\n            <ul>\n              <li>\n                <a href={`/dashboard/${id}/settings`}>Settings</a>\n                <ul>\n                  <li><a href={`/dashboard/${id}/settings/nickname`}>Nickname</a></li>\n                  <li><a href={`/dashboard/${id}/settings/server`}>Server Management</a></li>\n                </ul>\n              </li>\n              <li>\n                <a href={`/dashboard/${id}/channels`}>Channels</a>\n                <ul>\n                  <li><a href={`/dashboard/${id}/channels/manage`}>Manage Channels</a></li>\n                </ul>\n              </li>\n              <li>\n                <a href={`/dashboard/${id}/users`}>Users</a>\n                <ul>\n                  <li><a href={`/dashboard/${id}/users/manage`}>Manage Users</a></li>\n                  <li><a href={`/dashboard/${id}/users/permissions`}>Permissions</a></li>\n                </ul>\n              </li>\n            </ul>\n          </nav>\n        </>\n      ) : (\n        <p>Server not found</p>\n      )}\n    </div>\n  );\n}\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}